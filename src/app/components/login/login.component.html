<app-navigation-logo></app-navigation-logo>
<section class="container-fluid ops_signup ops_signin">
    <div class="container">
        <div class="row">
            <div *ngIf="loginState.login_uploading_data" class="preloader">
                <div class="sticky"><div class="loader">Loading...</div></div>
            </div>
            <div class="col-md-6 col-sm-6 col-xs-12 ops_signup_left">
                <img width="100%;" [src]="imageBaseUrl + 'img/login_illustration.png'" alt="">
                <div class="ops_heading text-center">
                    Don't have an account ? <a [routerLink]="['/reg/information']" [queryParams]="queryParam ? this.route.snapshot.queryParams : ''" class="text-theme">Sign up</a>
                </div>
            </div>
            <div class="col-md-6 col-sm-6 col-xs-12 ops_signup_right">
                <!-- form -->
                <div class="ops_h1 c-h3">Log in to your account</div>
                <form [formGroup]="loginForm" novalidate (submit)="submitForm(loginForm.value)" #myform="ngForm">
                    <div class="row">
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="c-form__group c-form--lg">
                                <input class="c-form__input" type="text" tabindex="1" formControlName="email" required>
                                <span class="c-form__highlight"></span>
                                <span class="c-form__bar"></span>
                                <label>Username/ Phone Number/ Email</label>
                                <p class="c-form__validation hide" [ngClass]="{'show' : loginForm.controls['email'].errors?.required && myform.submitted}">Username is required</p>
                            </div>
                        </div>
                    </div>
                    <div class="c-form__group c-form--lg pass-margin">
                        <input class="c-form__input" type="password" tabindex="2" formControlName="password" required>
                        <span class="c-form__highlight"></span>
                        <span class="c-form__bar"></span>
                        <label>Password</label>
                        <p class="c-form__validation" *ngIf="loginForm.controls['password'].errors?.required && myform.submitted">Password is required</p>
                    </div>
                    <p class="c-form__validation m-t-b-8" *ngIf="loginState?.error_description?.error_desc === 'INCORRECT_CREDENTIALS'">Username or Password is incorrect</p>
                    <div class="signup_privacy">
                        <p class="text-grey"><a routerLink="/account/password_reset" class="text-theme">Forgot Password ?</a></p>
                        <button type="button" [className]="'btn btn-primary btn-lg pull-right'" tabindex="3" [disabled]="loginState.login_uploading_data" [ngClass]="{'sending' : loginState.login_uploading_data}" [type]="'submit'" data-disable-with="...">LOG IN</button>
                    </div>
                </form>
                <!-- //form -->
            </div>
        </div>
    </div>
</section>

<app-footer></app-footer>

<!-- OTP Modal -->
<app-modal [modalTitle]="'OTP'" [blocking]='false' modalId='otpWindow' class="otp__modal" size="small">
    <!-- otp popup code -->
    <div class="reg_step1_otp" id="otpModal" role="dialog">
        <!-- otp modal -->
        <div class="modal-dialog" id="modal-test-2">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header with_border_none">
                </div>
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <h5 class="text-center">Pending verification! <br> Enter the 6 digit OTP that you have received <br> by email or phone </h5>
                        <p class="text-center m-t-16">
                            <a *ngIf="!resendingOtp" (click)="resendOtp()" class="color-theme">Resend OTP</a>
                            <a *ngIf="resendingOtp">Sending OTP, please wait...</a>
                        </p>
                        <form [formGroup]="otpForm" (ngSubmit)="otpSubmit(otpForm.value)" #myform="ngForm">
                            <div class="row">
                                <div class="col-sm-6 c-text_md m-8 m-l-24">Enter OTP</div>
                                <div class="col-sm-5">
                                    <!-- <div class="c-text_md pull-right color-theme m-8 m-r-16 m-r-0">00:50</div> -->
                                </div>
                            </div>
                            <div class="form_group o-otp_form">
                                <input #otpNum1 (keypress)="nextOtpNum($event, 1)" class="form_input" type="text" maxlength="1" formControlName="otpNum1">
                            </div>
                            <div class="form_group o-otp_form">
                                <input #otpNum2 (keypress)="nextOtpNum($event, 2)" class="form_input" type="text" maxlength="1" formControlName="otpNum2">
                            </div>
                            <div class="form_group o-otp_form">
                                <input #otpNum3 (keypress)="nextOtpNum($event, 3)" class="form_input" type="text" maxlength="1" formControlName="otpNum3">
                            </div>
                            <div class="form_group o-otp_form">
                                <input #otpNum4 (keypress)="nextOtpNum($event, 4)" class="form_input" type="text" maxlength="1" formControlName="otpNum4">
                            </div>
                            <div class="form_group o-otp_form">
                                <input #otpNum5 (keypress)="nextOtpNum($event, 5)" class="form_input" type="text" maxlength="1" formControlName="otpNum5">
                            </div>
                            <div class="form_group o-otp_form">
                                <input #otpNum6 (keypress)="nextOtpNum($event, 6)" class="form_input" type="text" maxlength="1" formControlName="otpNum6">
                            </div>
                            <p class="error_alert text-center" *ngIf="loginState?.user_otp_failed">Invalid OTP</p>
                            <p class="error_alert text-center" *ngIf="myform.submitted && (otpForm.controls['otpNum1'].errors?.required || otpForm.controls['otpNum2'].errors?.required || otpForm.controls['otpNum3'].errors?.required || otpForm.controls['otpNum4'].errors?.required || otpForm.controls['otpNum5'].errors?.required || otpForm.controls['otpNum6'].errors?.required)">Please enter your 6 digit OTP number</p>
                            <div class="text-center">
                                <button type="submit" class="btn btn-primary btn-lg capitalize">Validate</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- //otp modal -->
    </div>
    <!-- //otp popup code -->
</app-modal>
<!-- OTP Modal -->