<div class="Overlay">
  <span class="Overlay__status" *ngIf="status >1 && status <100">
    Uploading {{ status }}%
  </span>
  <span class="Overlay__status" *ngIf="postSuccess === true">
    Upload successful!
  </span>

  <span class="Overlay__status" *ngIf="postSuccessActive === true">
    Saved to Channel ...
  </span>

  <div class="Overlay__error" *ngIf="formMessages.length > 0">
    <span class="Overlay__status" *ngFor="let msg of formMessages">
      {{ msg }}
    </span>
  </div>
</div>

<div class="media-selector" [ngClass]="{'not__filled': hasFiles === false }">
  <div class="col-md-8 padding_none file__viewer">
    <ul class="file__list media-selector__list">
      <li *ngFor="let file of uploadedFiles" class="file__item">
        <div *ngIf="checkFileType(file.fileName, 'Video')" class="add_media_container media__video" [ngClass]="{ 'selected': isSelectedFile(file.fileName) }">
          <app-videplayer (click)="fileDetails(file)" [src]="'http://d206s58i653k1q.cloudfront.net/' + file.repoPath"></app-videplayer>
          <div class="add_media_delet" (click)="removeFile(file)">
              <img src="http://d33wubrfki0l68.cloudfront.net/2b2a108565b4b23215301528183f77ffc0c04a24/f7395/img/svg/ico_create-close.svg">
          </div>
        </div>
        <div *ngIf="checkFileType(file.fileName, 'Image')" class="add_media_container media__image" [ngClass]="{ 'selected': isSelectedFile(file.fileName) }">
          <div class="add_media_img">
            <img (click)="fileDetails(file)" src="{{ 'http://d206s58i653k1q.cloudfront.net/' + file.repoPath }}"/>
          </div>
          <div class="add_media_delet" (click)="removeFile(file)">
              <img src="http://d33wubrfki0l68.cloudfront.net/2b2a108565b4b23215301528183f77ffc0c04a24/f7395/img/svg/ico_create-close.svg">
          </div>
        </div>
        <div *ngIf="checkFileType(file.fileName, 'Audio')" class="add_media_container media__audio" [ngClass]="{ 'selected': isSelectedFile(file.fileName) }">
          <app-audioplayer (click)="fileDetails(file)" src="{{ 'http://d206s58i653k1q.cloudfront.net/' + file.repoPath }}"></app-audioplayer>
          <div class="add_media_delet" (click)="removeFile(file)">
              <img src="http://d33wubrfki0l68.cloudfront.net/2b2a108565b4b23215301528183f77ffc0c04a24/f7395/img/svg/ico_create-close.svg">
          </div>
        </div>
      </li>
      <li *ngIf="hasFiles === true" class="file__item file__add">
        <label class="upload-button">
          <input type="file" (ngxf-select)="uploadFileList($event)" multiple accept="image/*,.mp3,.mp4">Add more Media
        </label>
      </li>
    </ul>
    <div class="dragZone" class="block" (ngxf-drop)="uploadFileList($event)" drop-class="drop" multiple [ngxf-validate]="{ size: { min: 10, max:10000000 } }">
      <div class="add_media_inner" [ngClass]="{'is__filled': hasFiles === true }">
          <div class="select_media_ico">
              <img width="100" src="http://d33wubrfki0l68.cloudfront.net/1c31dc8ee913450e1062a90675f43527198ff78d/a6d0c/img/svg/media_add.svg" alt="">
          </div>
          <div class="dropZone2">
            <label class="upload-button hidden">
              <input type="file" (ngxf-select)="uploadFileList($event)" [ngxf-validate]="{ size: { min: 50000, max:1000000 } }">
            </label>

            <label class="upload-button">
              <input type="file" (ngxf-select)="uploadFileList($event)" multiple accept="image/*,.mp3,.mp4">Select Media
            </label>
          </div>
          <div class="select_media_info">
              <p>Upload or drag &amp; drop images, videos and audios</p>
          </div>
          <div class="select_media_format">
              <p>You can upload jpg, png, mp4, wav, avi, mp3, aac, wma</p>
          </div>
      </div>
    </div>
  </div>
      <!-- *ngIf="editingFile" -->
  <div class="col-md-4 add_media_info padding_none file__editor">
    <div class="form__group">
      <div class="form__item">
        <div class="post__top">
          <div class="post__options">
            <button disable="true" class="btn-saveUpload" (click)="mediaInfoUpdate(mediaForm.value)">Publish</button>
            <!-- <button disable="true" class="btn-saveUpload--lite" (click)="postAllMedia(mediaForm.value)">Publish All</button> -->
          </div>
        </div>
      </div>
    </div>
    <form [formGroup]="mediaForm" novalidate #mediaform="ngForm" class="add_media_info__form">
      <ul class="media_info">
        <li>
          <div class="form_group">
            <input formControlName="title" class="form_input" required="" type="text">
            <span class="form_highlight"></span>
            <span class="form_bar"></span>
            <label>Title</label>
          </div>
        </li>
        <li>
          <div class="form_group">
            <textarea formControlName="desc" name="comment" rows="2" placeholder="Description"></textarea>
          </div>
        </li>
        <li>
          <div class="form_group">
            <tag-input [(ngModel)]='tags' [placeholder]="'Tags'" [ngModelOptions]="{standalone: true}" [theme]="'ops-theme'"></tag-input>
          </div>
        </li>
        <li>
          <div class="form_group" *ngIf="editingFile.type=== 'Video'">
              <input type="file" (ngxf-select)="uploadFile($event)" [ngxf-validate]="{ size: { min: 50000, max:1000000 } }">
          </div>
        </li>
      </ul>
      <ul class="media_content_report">
        <li>
          <div class="form_group">
            <select formControlName="privacy" class="form-control" id="sel1">
                <option value="0">Public</option>
                <option value="1">Private</option>
            </select>
          </div>
        </li>
        <li>
          <div class="form_group">
            <select formControlName="copyright" class="form-control" id="sel1">
              <option value="1">Copyright and License type</option>
              <option value="2">CC: Attribution Share Alike</option>
              <option value="3">CC: Attribution Non-Derivative</option>
              <option value="4">CC: Attribution-NonCommercial</option>
              <option value="5">CC: Attribution-NonCommercial-ShareAlike</option>
              <option value="6">CC: Attribution-NonCommercial-NoDerivs No License</option>
            </select>
          </div>
        </li>
        <li class="ops_radio_sm">
          <div class="form_group ops_radio_sm">
            <label>
              <label class="gender_single">
                <input formControlName="isAdult" type="checkbox" name="demo"><span></span>This media contain adult content
              </label>
            </label>
          </div>
        </li>
      </ul>
    </form>
    <div class="form__group">
      <div class="form__item">
        <app-channel-selector [userChannels]="channeList" (onSelection)="onChannelSelection($event)" (onChannelCreate)="onChannelCreation($event)"></app-channel-selector>
      </div>
    </div>
